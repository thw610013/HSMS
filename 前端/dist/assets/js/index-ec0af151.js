import{_ as e,u as a}from"./index-22381d63.js";import{r as s,M as l,m as r,q as o,E as i,z as t,D as d,ao as c,ah as n,ag as u,l as m,X as p,y as v,B as f}from"./vue-core-9ee4ed8b.js";import{Q as g,a9 as b,O as h,ab as y,ac as _,R as w,at as x,aj as V,ak as j}from"./element-plus-e2333c73.js";import"./icons-c547ea56.js";import"./utils-e59f4bae.js";const k={class:"login-container"},q={class:"login-box"},M={class:"remember-container"},U={class:"copyright"},C=e({__name:"index",setup(e){const C=n(),D=u(),F=a(),P=s(),R=l({username:"",password:"",rememberMe:!1}),z={username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:5,message:"密码长度不能少于5个字符",trigger:"blur"}]},B=s("password"),E=()=>{B.value="password"===B.value?"text":"password"},H=s(!1),I=()=>{P.value.validate((e=>{return a=this,s=null,l=function*(){if(e){H.value=!0;try{yield F.login(R);const e=D.query.redirect||"/dashboard";C.push({path:e}),h.success("登录成功")}catch(a){h.error(a.message||"登录失败，请检查用户名和密码")}finally{H.value=!1}}},new Promise(((e,r)=>{var o=e=>{try{t(l.next(e))}catch(a){r(a)}},i=e=>{try{t(l.throw(e))}catch(a){r(a)}},t=a=>a.done?e(a.value):Promise.resolve(a.value).then(o,i);t((l=l.apply(a,s)).next())}));var a,s,l}))};return(e,a)=>{const s=y,l=_,n=w,u=x,h=V,C=j,D=b;return m(),r("div",k,[o("div",q,[i(D,{class:"login-card"},{default:t((()=>[a[9]||(a[9]=o("div",{class:"title-container"},[o("h3",{class:"title"},"高校学生信息管理系统")],-1)),a[10]||(a[10]=d()),i(C,{ref_key:"loginFormRef",ref:P,model:R,rules:z,class:"login-form","label-position":"left"},{default:t((()=>[i(l,{prop:"username"},{default:t((()=>[i(s,{modelValue:R.username,"onUpdate:modelValue":a[0]||(a[0]=e=>R.username=e),placeholder:"用户名","prefix-icon":"User",clearable:""},null,8,["modelValue"])])),_:1}),a[6]||(a[6]=d()),i(l,{prop:"password"},{default:t((()=>[i(s,{modelValue:R.password,"onUpdate:modelValue":a[1]||(a[1]=e=>R.password=e),placeholder:"密码",type:B.value,"prefix-icon":"Lock",clearable:"",onKeyup:p(I,["enter"])},{suffix:t((()=>[i(n,{class:"cursor-pointer",onClick:E},{default:t((()=>[(m(),v(f("password"===B.value?"View":"Hide")))])),_:1})])),_:1},8,["modelValue","type"])])),_:1}),a[7]||(a[7]=d()),o("div",M,[i(u,{modelValue:R.rememberMe,"onUpdate:modelValue":a[2]||(a[2]=e=>R.rememberMe=e)},{default:t((()=>a[3]||(a[3]=[d("记住我")]))),_:1},8,["modelValue"]),a[4]||(a[4]=d()),a[5]||(a[5]=o("a",{class:"forget-link"},"忘记密码?",-1))]),a[8]||(a[8]=d()),i(h,{loading:H.value,type:"primary",class:"login-button",onClick:I},{default:t((()=>[d(g(H.value?"登录中...":"登 录"),1)])),_:1},8,["loading"])])),_:1},8,["model"]),a[11]||(a[11]=d()),a[12]||(a[12]=o("div",{class:"tips"},[o("p",null,[d("\n            管理员账号: admin / 123456"),o("br"),d("\n            教师账号: teacher / 123456"),o("br"),d("\n            学生账号: student / 123456\n          ")])],-1))])),_:1}),a[13]||(a[13]=d()),o("div",U,"\n        © "+g((new Date).getFullYear())+" 高校学生信息管理系统\n      ",1)]),a[14]||(a[14]=c(' <div class="bg-container" data-v-617b0d98><div class="circle circle-1" data-v-617b0d98></div> <div class="circle circle-2" data-v-617b0d98></div> <div class="circle circle-3" data-v-617b0d98></div> <div class="circle circle-4" data-v-617b0d98></div></div>',2))])}}},[["__scopeId","data-v-617b0d98"]]);export{C as default};
