import{_ as e,u as a}from"./index-1c6f2b30.js";import{ah as s,ag as l,r,M as i,l as o,m as t,q as d,E as c,z as n,D as u,X as m,y as p,B as v,ao as f}from"./vue-core-d6f028e5.js";import{Q as g,O as b,aa as h,ab as y,R as _,at as w,ai as x,aj as V,ak as j}from"./element-plus-33c96ec5.js";import"./icons-02de347c.js";import"./utils-80dc1c42.js";const k={class:"login-container"},q={class:"login-box"},M={class:"remember-container"},U={class:"copyright"},E=e({__name:"index",setup(e){const E=s(),C=l(),D=a(),F=r(),P=i({username:"",password:"",rememberMe:!1}),R={username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:5,message:"密码长度不能少于5个字符",trigger:"blur"}]},S=r("password"),z=()=>{S.value="password"===S.value?"text":"password"},B=r(!1),H=()=>{F.value.validate(e=>{return a=this,s=null,l=function*(){if(e){B.value=!0;try{yield D.login(P);const e=C.query.redirect||"/dashboard";E.push({path:e}),b.success("登录成功")}catch(a){b.error(a.message||"登录失败，请检查用户名和密码")}finally{B.value=!1}}},new Promise((e,r)=>{var i=e=>{try{t(l.next(e))}catch(a){r(a)}},o=e=>{try{t(l.throw(e))}catch(a){r(a)}},t=a=>a.done?e(a.value):Promise.resolve(a.value).then(i,o);t((l=l.apply(a,s)).next())});var a,s,l})};return(e,a)=>{const s=h,l=y,r=_,i=w,b=x,E=V,C=j;return o(),t("div",k,[d("div",q,[c(C,{class:"login-card"},{default:n(()=>[a[9]||(a[9]=d("div",{class:"title-container"},[d("h3",{class:"title"},"EduSmart 高校智能管理平台")],-1)),a[10]||(a[10]=u()),c(E,{ref_key:"loginFormRef",ref:F,model:P,rules:R,class:"login-form","label-position":"left"},{default:n(()=>[c(l,{prop:"username"},{default:n(()=>[c(s,{modelValue:P.username,"onUpdate:modelValue":a[0]||(a[0]=e=>P.username=e),placeholder:"用户名","prefix-icon":"User",clearable:""},null,8,["modelValue"])]),_:1}),a[6]||(a[6]=u()),c(l,{prop:"password"},{default:n(()=>[c(s,{modelValue:P.password,"onUpdate:modelValue":a[1]||(a[1]=e=>P.password=e),placeholder:"密码",type:S.value,"prefix-icon":"Lock",clearable:"",onKeyup:m(H,["enter"])},{suffix:n(()=>[c(r,{class:"cursor-pointer",onClick:z},{default:n(()=>[(o(),p(v("password"===S.value?"View":"Hide")))]),_:1})]),_:1},8,["modelValue","type"])]),_:1}),a[7]||(a[7]=u()),d("div",M,[c(i,{modelValue:P.rememberMe,"onUpdate:modelValue":a[2]||(a[2]=e=>P.rememberMe=e)},{default:n(()=>a[3]||(a[3]=[u("记住我")])),_:1},8,["modelValue"]),a[4]||(a[4]=u()),a[5]||(a[5]=d("a",{class:"forget-link"},"忘记密码?",-1))]),a[8]||(a[8]=u()),c(b,{loading:B.value,type:"primary",class:"login-button",onClick:H},{default:n(()=>[u(g(B.value?"登录中...":"登 录"),1)]),_:1},8,["loading"])]),_:1},8,["model"]),a[11]||(a[11]=u()),a[12]||(a[12]=d("div",{class:"tips"},[d("p",null,[u("\n            管理员账号: admin / 123456"),d("br"),u("\n            教师账号: teacher001 / 123456"),d("br"),u("\n            学生账号: student001 / 123456\n          ")])],-1))]),_:1}),a[13]||(a[13]=u()),d("div",U,"\n        © "+g((new Date).getFullYear())+" EduSmart 高校智能管理平台\n      ",1)]),a[14]||(a[14]=f(' <div class="bg-container" data-v-93ac590d><div class="circle circle-1" data-v-93ac590d></div> <div class="circle circle-2" data-v-93ac590d></div> <div class="circle circle-3" data-v-93ac590d></div> <div class="circle circle-4" data-v-93ac590d></div></div>',2))])}}},[["__scopeId","data-v-93ac590d"]]);export{E as default};
