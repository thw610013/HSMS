var e=(e,a,l)=>new Promise((d,t)=>{var u=e=>{try{r(l.next(e))}catch(a){t(a)}},o=e=>{try{r(l.throw(e))}catch(a){t(a)}},r=e=>e.done?d(e.value):Promise.resolve(e.value).then(u,o);r((l=l.apply(e,a)).next())});import{_ as a,N as l,w as d,O as t}from"./index-1c6f2b30.js";import{ag as u,ah as o,r,M as s,f as n,l as p,m,E as c,z as i,q as f,D as _,A as h,y as b,F as V,W as v}from"./vue-core-d6f028e5.js";import{O as g,ai as y,aa as U,ab as D,ac as x,au as Y,a4 as j,ae as k,af as w,ag as I,aw as M,av as N,ax as q,aj as S,ak as C,as as O}from"./element-plus-33c96ec5.js";import"./icons-02de347c.js";import"./utils-80dc1c42.js";const F={class:"teacher-edit-container"},P={class:"card-header"},z={class:"operations"},A={class:"form-footer"},E=a({__name:"edit",setup(a){const E=u(),R=o(),W=E.params.id,$=r(!1),B=r("basic"),G=r(),H=r([]),J=s({id:"",teacherNo:"",name:"",gender:0,departmentId:"",title:"",status:0,phone:"",email:"",address:"",education:"",graduateSchool:"",birthday:"",entryDate:""}),K={name:[{required:!0,message:"请输入姓名",trigger:"blur"},{min:2,max:20,message:"长度在 2 到 20 个字符",trigger:"blur"}],departmentId:[{required:!0,message:"请选择院系",trigger:"change"}],title:[{required:!0,message:"请选择职称",trigger:"change"}],phone:[{pattern:/^1[3-9]\d{9}$/,message:"请输入正确的手机号码",trigger:"blur"}],email:[{type:"email",message:"请输入正确的邮箱地址",trigger:"blur"}]},L=()=>e(this,null,function*(){try{$.value=!0;const e=yield l(W);200===e.code?Object.assign(J,e.data):g.error(e.msg||"获取教师详情失败"),$.value=!1}catch(e){g.error("获取教师详情失败"),$.value=!1}}),Q=()=>e(this,null,function*(){try{const e=yield d();H.value=e.data}catch(e){g.error("获取院系列表失败")}}),T=()=>{G.value.validate(a=>e(this,null,function*(){if(a)try{$.value=!0;const e=yield t(J);200===e.code?(g.success("修改成功"),X()):g.error(e.msg||"修改失败"),$.value=!1}catch(e){g.error("提交数据失败"),$.value=!1}}))},X=()=>{R.back()};return n(()=>{L(),Q()}),(e,a)=>{const l=y,d=U,t=D,u=x,o=Y,r=j,s=k,n=w,g=I,E=M,R=N,W=q,L=S,Q=C,Z=O;return p(),m("div",F,[c(Q,{class:"box-card",shadow:"hover"},{header:i(()=>[f("div",P,[a[15]||(a[15]=f("span",null,"编辑教师",-1)),a[16]||(a[16]=_()),f("div",z,[c(l,{type:"primary",onClick:X},{default:i(()=>a[14]||(a[14]=[_("返回")])),_:1})])])]),default:i(()=>[a[43]||(a[43]=_()),h((p(),b(L,{ref_key:"teacherFormRef",ref:G,model:J,rules:K,"label-width":"100px"},{default:i(()=>[c(W,{modelValue:B.value,"onUpdate:modelValue":a[13]||(a[13]=e=>B.value=e)},{default:i(()=>[c(E,{label:"基本信息",name:"basic"},{default:i(()=>[c(g,{gutter:24},{default:i(()=>[c(u,{span:12},{default:i(()=>[c(t,{label:"教师编号",prop:"teacherNo"},{default:i(()=>[c(d,{modelValue:J.teacherNo,"onUpdate:modelValue":a[0]||(a[0]=e=>J.teacherNo=e),placeholder:"请输入教师编号",disabled:""},null,8,["modelValue"])]),_:1})]),_:1}),a[25]||(a[25]=_()),c(u,{span:12},{default:i(()=>[c(t,{label:"姓名",prop:"name"},{default:i(()=>[c(d,{modelValue:J.name,"onUpdate:modelValue":a[1]||(a[1]=e=>J.name=e),placeholder:"请输入姓名"},null,8,["modelValue"])]),_:1})]),_:1}),a[26]||(a[26]=_()),c(u,{span:12},{default:i(()=>[c(t,{label:"性别",prop:"gender"},{default:i(()=>[c(r,{modelValue:J.gender,"onUpdate:modelValue":a[2]||(a[2]=e=>J.gender=e)},{default:i(()=>[c(o,{label:0},{default:i(()=>a[17]||(a[17]=[_("男")])),_:1}),a[19]||(a[19]=_()),c(o,{label:1},{default:i(()=>a[18]||(a[18]=[_("女")])),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}),a[27]||(a[27]=_()),c(u,{span:12},{default:i(()=>[c(t,{label:"院系",prop:"departmentId"},{default:i(()=>[c(n,{modelValue:J.departmentId,"onUpdate:modelValue":a[3]||(a[3]=e=>J.departmentId=e),placeholder:"请选择院系"},{default:i(()=>[(p(!0),m(V,null,v(H.value,e=>(p(),b(s,{key:e.id,label:e.name,value:e.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1}),a[28]||(a[28]=_()),c(u,{span:12},{default:i(()=>[c(t,{label:"职称",prop:"title"},{default:i(()=>[c(n,{modelValue:J.title,"onUpdate:modelValue":a[4]||(a[4]=e=>J.title=e),placeholder:"请选择职称"},{default:i(()=>[c(s,{label:"教授",value:"教授"}),a[20]||(a[20]=_()),c(s,{label:"副教授",value:"副教授"}),a[21]||(a[21]=_()),c(s,{label:"讲师",value:"讲师"}),a[22]||(a[22]=_()),c(s,{label:"助教",value:"助教"})]),_:1},8,["modelValue"])]),_:1})]),_:1}),a[29]||(a[29]=_()),c(u,{span:12},{default:i(()=>[c(t,{label:"状态",prop:"status"},{default:i(()=>[c(n,{modelValue:J.status,"onUpdate:modelValue":a[5]||(a[5]=e=>J.status=e),placeholder:"请选择状态"},{default:i(()=>[c(s,{label:"在职",value:0}),a[23]||(a[23]=_()),c(s,{label:"离职",value:1}),a[24]||(a[24]=_()),c(s,{label:"退休",value:2})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),a[37]||(a[37]=_()),c(E,{label:"联系信息",name:"contact"},{default:i(()=>[c(g,{gutter:24},{default:i(()=>[c(u,{span:12},{default:i(()=>[c(t,{label:"手机号码",prop:"phone"},{default:i(()=>[c(d,{modelValue:J.phone,"onUpdate:modelValue":a[6]||(a[6]=e=>J.phone=e),placeholder:"请输入手机号码"},null,8,["modelValue"])]),_:1})]),_:1}),a[30]||(a[30]=_()),c(u,{span:12},{default:i(()=>[c(t,{label:"邮箱",prop:"email"},{default:i(()=>[c(d,{modelValue:J.email,"onUpdate:modelValue":a[7]||(a[7]=e=>J.email=e),placeholder:"请输入邮箱"},null,8,["modelValue"])]),_:1})]),_:1}),a[31]||(a[31]=_()),c(u,{span:12},{default:i(()=>[c(t,{label:"地址",prop:"address"},{default:i(()=>[c(d,{modelValue:J.address,"onUpdate:modelValue":a[8]||(a[8]=e=>J.address=e),placeholder:"请输入地址"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),a[38]||(a[38]=_()),c(E,{label:"教育背景",name:"education"},{default:i(()=>[c(g,{gutter:24},{default:i(()=>[c(u,{span:12},{default:i(()=>[c(t,{label:"学历",prop:"education"},{default:i(()=>[c(n,{modelValue:J.education,"onUpdate:modelValue":a[9]||(a[9]=e=>J.education=e),placeholder:"请选择学历"},{default:i(()=>[c(s,{label:"博士",value:"博士"}),a[32]||(a[32]=_()),c(s,{label:"硕士",value:"硕士"}),a[33]||(a[33]=_()),c(s,{label:"本科",value:"本科"})]),_:1},8,["modelValue"])]),_:1})]),_:1}),a[34]||(a[34]=_()),c(u,{span:12},{default:i(()=>[c(t,{label:"毕业院校",prop:"graduateSchool"},{default:i(()=>[c(d,{modelValue:J.graduateSchool,"onUpdate:modelValue":a[10]||(a[10]=e=>J.graduateSchool=e),placeholder:"请输入毕业院校"},null,8,["modelValue"])]),_:1})]),_:1}),a[35]||(a[35]=_()),c(u,{span:12},{default:i(()=>[c(t,{label:"出生日期",prop:"birthday"},{default:i(()=>[c(R,{modelValue:J.birthday,"onUpdate:modelValue":a[11]||(a[11]=e=>J.birthday=e),type:"date",placeholder:"请选择出生日期","value-format":"YYYY-MM-DD"},null,8,["modelValue"])]),_:1})]),_:1}),a[36]||(a[36]=_()),c(u,{span:12},{default:i(()=>[c(t,{label:"入职日期",prop:"entryDate"},{default:i(()=>[c(R,{modelValue:J.entryDate,"onUpdate:modelValue":a[12]||(a[12]=e=>J.entryDate=e),type:"date",placeholder:"请选择入职日期","value-format":"YYYY-MM-DD"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),a[42]||(a[42]=_()),f("div",A,[c(l,{type:"primary",onClick:T},{default:i(()=>a[39]||(a[39]=[_("确 定")])),_:1}),a[41]||(a[41]=_()),c(l,{onClick:X},{default:i(()=>a[40]||(a[40]=[_("取 消")])),_:1})])]),_:1},8,["model"])),[[Z,$.value]])]),_:1})])}}},[["__scopeId","data-v-dca84470"]]);export{E as default};
