import{_ as e,u as a}from"./index-c00447c9.js";import{r as s,X as r,z as l,A as o,P as d,H as i,L as t,M as c,aF as n,ay as u,ax as m,y as p,a5 as v,G as f,J as g}from"./vue-core-ad22061d.js";import{u as b,E as y,w as h,x as w,b as _,P as x,F as V,G as j}from"./element-plus-7067fc91.js";import"./icons-3f8828dd.js";import"./utils-ebe9136b.js";const k={class:"login-container"},F={class:"login-box"},M={class:"remember-container"},P={class:"copyright"},U=e({__name:"index",setup(e){const U=u(),q=m(),E=a(),C=s(),G=r({username:"",password:"",rememberMe:!1}),H={username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:5,message:"密码长度不能少于5个字符",trigger:"blur"}]},L=s("password"),S=()=>{L.value="password"===L.value?"text":"password"},z=s(!1),A=()=>{C.value.validate(e=>{return a=this,s=null,r=function*(){if(e){z.value=!0;try{yield E.login(G);const e=q.query.redirect||"/dashboard";U.push({path:e}),y.success("登录成功")}catch(a){console.error("登录失败:",a),y.error(a.message||"登录失败，请检查用户名和密码")}finally{z.value=!1}}},new Promise((e,l)=>{var o=e=>{try{i(r.next(e))}catch(a){l(a)}},d=e=>{try{i(r.throw(e))}catch(a){l(a)}},i=a=>a.done?e(a.value):Promise.resolve(a.value).then(o,d);i((r=r.apply(a,s)).next())});var a,s,r})};return(e,a)=>{const s=h,r=w,u=_,m=x,y=V,U=j,q=b;return p(),l("div",k,[o("div",F,[d(q,{class:"login-card"},{default:i(()=>[a[9]||(a[9]=o("div",{class:"title-container"},[o("h3",{class:"title"},"EduSmart 高校智能管理平台")],-1)),a[10]||(a[10]=t()),d(U,{ref_key:"loginFormRef",ref:C,model:G,rules:H,class:"login-form","label-position":"left"},{default:i(()=>[d(r,{prop:"username"},{default:i(()=>[d(s,{modelValue:G.username,"onUpdate:modelValue":a[0]||(a[0]=e=>G.username=e),placeholder:"用户名","prefix-icon":"User",clearable:""},null,8,["modelValue"])]),_:1}),a[6]||(a[6]=t()),d(r,{prop:"password"},{default:i(()=>[d(s,{modelValue:G.password,"onUpdate:modelValue":a[1]||(a[1]=e=>G.password=e),placeholder:"密码",type:L.value,"prefix-icon":"Lock",clearable:"",onKeyup:v(A,["enter"])},{suffix:i(()=>[d(u,{class:"cursor-pointer",onClick:S},{default:i(()=>[(p(),f(g("password"===L.value?"View":"Hide")))]),_:1})]),_:1},8,["modelValue","type"])]),_:1}),a[7]||(a[7]=t()),o("div",M,[d(m,{modelValue:G.rememberMe,"onUpdate:modelValue":a[2]||(a[2]=e=>G.rememberMe=e)},{default:i(()=>a[3]||(a[3]=[t("记住我")])),_:1},8,["modelValue"]),a[4]||(a[4]=t()),a[5]||(a[5]=o("a",{class:"forget-link"},"忘记密码?",-1))]),a[8]||(a[8]=t()),d(y,{loading:z.value,type:"primary",class:"login-button",onClick:A},{default:i(()=>[t(c(z.value?"登录中...":"登 录"),1)]),_:1},8,["loading"])]),_:1},8,["model"]),a[11]||(a[11]=t()),a[12]||(a[12]=o("div",{class:"tips"},[o("p",null,[t("\n            管理员账号: admin / 123456"),o("br"),t("\n            教师账号: teacher001 / 123456"),o("br"),t("\n            学生账号: student001 / 123456\n          ")])],-1))]),_:1}),a[13]||(a[13]=t()),o("div",P,"\n        © "+c((new Date).getFullYear())+" EduSmart 高校智能管理平台\n      ",1)]),a[14]||(a[14]=n(' <div class="bg-container" data-v-93ac590d><div class="circle circle-1" data-v-93ac590d></div> <div class="circle circle-2" data-v-93ac590d></div> <div class="circle circle-3" data-v-93ac590d></div> <div class="circle circle-4" data-v-93ac590d></div></div>',2))])}}},[["__scopeId","data-v-93ac590d"]]);export{U as default};
